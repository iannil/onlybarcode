# 条码格式支持文档

## 概述

OnlyBarcode 现在支持多种条码格式，包括零售、工业、物流、药品和2D条码等不同应用场景的格式。每种格式都有其特定的用途和限制。

## 支持的条码格式

### 2D条码格式 (2D Barcode Formats)

#### GS1 DataMatrix

- **描述**: 支持数字、字母和特殊字符，用于工业、制药和物流
- **示例**: `ABC123!@#`
- **用途**: 工业标识、药品包装、物流追踪
- **特点**: 高密度编码，支持错误纠正，适合小空间应用
- **限制**: 需要专门的2D扫描设备

#### PDF417

- **描述**: 支持数字、字母和特殊字符，常见于身份证件、登机牌
- **示例**: `ABC123!@#`
- **用途**: 身份证件、登机牌、驾驶证、政府文档
- **特点**: 高容量数据存储，支持错误纠正
- **限制**: 需要专门的2D扫描设备

#### Aztec Code

- **描述**: 支持数字、字母和特殊字符，常见于火车票、电子票务
- **示例**: `ABC123!@#`
- **用途**: 火车票、电子票务、移动支付、交通卡
- **特点**: 紧凑设计，支持360度扫描
- **限制**: 需要专门的2D扫描设备

#### DotCode

- **描述**: 支持数字、字母和特殊字符，用于高速工业喷码
- **示例**: `ABC123!@#`
- **用途**: 高速工业喷码、烟草包装、饮料瓶
- **特点**: 专为高速喷码设计，支持不规则表面
- **限制**: 需要专门的2D扫描设备

### 零售格式 (Retail Formats)

#### EAN-13

- **描述**: 13位数字，最后一位为校验位
- **示例**: `1234567890128`
- **用途**: 零售商品、图书ISBN
- **限制**: 仅支持数字，固定13位

#### EAN-8

- **描述**: 8位数字，最后一位为校验位
- **示例**: `12345678`
- **用途**: 小包装商品、空间受限场景
- **限制**: 仅支持数字，固定8位

#### EAN-5

- **描述**: 5位数字，用于EAN-13的补充码
- **示例**: `12345`
- **用途**: 价格补充、重量补充
- **限制**: 仅支持数字，固定5位

#### EAN-2

- **描述**: 2位数字，用于EAN-13的补充码
- **示例**: `12`
- **用途**: 期刊补充、版本补充
- **限制**: 仅支持数字，固定2位

#### UPC-A

- **描述**: 12位数字，最后一位为校验位
- **示例**: `123456789012`
- **用途**: 北美零售、商品标识
- **限制**: 仅支持数字，固定12位

#### UPC-E

- **描述**: 8位数字，压缩的UPC-A格式
- **示例**: `12345678`
- **用途**: 小包装商品、空间受限
- **限制**: 仅支持数字，固定8位

#### MSI 系列

- **MSI**: 仅支持数字，用于零售库存
- **MSI10**: MSI格式，带10位校验位
- **MSI11**: MSI格式，带11位校验位
- **MSI1010**: MSI格式，带10位和10位校验位
- **MSI1110**: MSI格式，带11位和10位校验位

### 工业格式 (Industrial Formats)

#### Code 128

- **描述**: 支持所有ASCII字符，自动选择最佳编码模式
- **示例**: `ABC123`
- **用途**: 通用商品标识、物流追踪、库存管理
- **限制**: 需要较宽的条码空间

#### Code 128A

- **描述**: 仅支持大写字母、数字和控制字符
- **示例**: `ABC123`
- **用途**: 工业标识、设备编号
- **限制**: 不支持小写字母、不支持特殊字符

#### Code 128B

- **描述**: 支持所有ASCII可打印字符
- **示例**: `ABC123!@#`
- **用途**: 文本编码、产品描述
- **限制**: 不支持控制字符

#### Code 128C

- **描述**: 仅支持数字，必须为偶数位
- **示例**: `123456`
- **用途**: 数字编码、序列号
- **限制**: 仅支持数字，必须偶数位

#### Code 39

- **描述**: 支持数字、大写字母和特殊字符
- **示例**: `ABC-123`
- **用途**: 工业标识、国防应用
- **限制**: 不支持小写字母，需要起始和结束字符

### 物流格式 (Logistics Formats)

#### Code 93

- **描述**: 支持所有ASCII字符，比Code 39更紧凑
- **示例**: `ABC123`
- **用途**: 物流追踪、库存管理
- **限制**: 需要起始和结束字符

#### ITF

- **描述**: 仅支持数字，必须为偶数位
- **示例**: `123456`
- **用途**: 物流包装、仓储管理
- **限制**: 仅支持数字，必须偶数位

#### ITF-14

- **描述**: 14位数字，用于物流包装
- **示例**: `12345678901234`
- **用途**: 物流包装、运输标识
- **限制**: 仅支持数字，固定14位

### 药品格式 (Pharmaceutical Formats)

#### Pharmacode

- **描述**: 仅支持数字，用于药品包装
- **示例**: `123456`
- **用途**: 药品包装、医疗设备
- **限制**: 仅支持数字

#### Codabar

- **描述**: 支持数字、字母和特殊字符，以A-D开头和结尾
- **示例**: `A123456B`
- **用途**: 图书馆、医疗实验室
- **限制**: 必须以A-D开头和结尾

## 格式验证

系统会自动验证输入内容是否符合所选格式的要求：

- **字符验证**: 检查输入字符是否在格式允许的范围内
- **长度验证**: 检查输入长度是否符合格式要求
- **特殊规则**: 如Code 128C和ITF要求偶数位数字

## 使用建议

### 选择格式时的考虑因素

1. **应用场景**: 根据使用环境选择合适的格式
   - 零售环境: EAN-13, UPC-A, MSI系列
   - 工业环境: Code 128系列, Code 39, GS1 DataMatrix
   - 物流环境: ITF系列, Code 93, PDF417
   - 医疗环境: Pharmacode, Codabar, GS1 DataMatrix
   - 票务环境: Aztec Code, PDF417
   - 工业喷码: DotCode

2. **数据内容**: 根据要编码的数据类型选择
   - 纯数字: EAN系列, UPC系列, ITF系列, MSI系列
   - 字母数字: Code 128系列, Code 39, Code 93
   - 特殊字符: Code 128B, Code 39, Codabar, 2D条码格式

3. **空间限制**: 考虑条码的物理空间
   - 空间充足: Code 128, Code 39, PDF417
   - 空间受限: EAN-8, UPC-E, Code 93, GS1 DataMatrix, Aztec Code
   - 极小空间: DotCode

4. **扫描设备兼容性**: 确保扫描设备支持所选格式
   - 1D条码: 传统激光扫描器
   - 2D条码: 图像扫描器、智能手机摄像头

### 最佳实践

1. **测试验证**: 在正式使用前测试条码的可读性
2. **质量控制**: 确保条码打印质量，避免模糊或损坏
3. **标准化**: 在组织内统一使用相同的格式标准
4. **文档记录**: 记录使用的格式和编码规则

## 技术实现

### 验证规则

每种格式都有对应的正则表达式验证规则：

```typescript
const formatInfo = {
  CODE128: { validation: /^[\x00-\x7F]+$/ },
  EAN13: { validation: /^[0-9]{13}$/ },
  CODE128C: { validation: /^[0-9]{2,}$/ },
  DATAMATRIX: { validation: /^[\x00-\x7F]+$/ },
  PDF417: { validation: /^[\x00-\x7F]+$/ },
  AZTEC: { validation: /^[\x00-\x7F]+$/ },
  DOTCODE: { validation: /^[\x00-\x7F]+$/ },
  // ... 其他格式
};
```

### 错误处理

当输入内容不符合格式要求时，系统会显示详细的错误信息，包括：

- 格式要求说明
- 具体错误原因
- 修正建议

### 2D条码特殊处理

- **SVG导出**: 2D条码格式不支持SVG导出，仅支持PNG格式
- **尺寸调整**: 2D条码使用固定的300x300像素画布以确保最佳显示效果
- **库依赖**: 使用bwip-js库生成2D条码，使用jsbarcode库生成1D条码

## 更新日志

### v1.1.0

- 新增支持4种2D条码格式：GS1 DataMatrix、PDF417、Aztec Code、DotCode
- 添加bwip-js库支持2D条码生成
- 更新条码生成逻辑，支持1D和2D条码
- 优化2D条码显示效果
- 禁用2D条码的SVG导出功能

### v1.0.0

- 新增支持20种条码格式
- 添加格式验证功能
- 实现格式指南页面
- 支持按类别筛选格式
- 添加搜索功能

## 相关链接

- [条码格式指南页面](/format-guide)
- [条码生成器](/barcode-generate)
- [条码扫描器](/barcode-scan)
